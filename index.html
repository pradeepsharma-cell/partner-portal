<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Partner Portal — Pratham Insights</title>
<link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;600;700;800&family=DM+Sans:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet"/>
<style>
  :root {
    --navy: #060d1f;
    --navy-2: #0b1730;
    --navy-3: #0f2050;
    --brand: #1a4fc4;
    --brand-bright: #2d6ef5;
    --glow: #4d8bff;
    --cyan: #00d4ff;
    --text: #dde6f8;
    --muted: #6b85b0;
    --surface: rgba(11, 23, 48, 0.7);
    --border: rgba(77, 139, 255, 0.18);
    --red: #ff4d6d;
    --green: #00e5a0;
  }

  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

  html, body { height: 100%; }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--navy);
    color: var(--text);
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    position: relative;
    overflow-x: hidden;
  }

  /* ── Background ── */
  .bg {
    position: fixed; inset: 0; z-index: 0; overflow: hidden;
    background:
      radial-gradient(ellipse 100% 70% at 15% 5%,  #0c2870 0%, transparent 55%),
      radial-gradient(ellipse 70%  90% at 90% 90%, #061540 0%, transparent 55%),
      var(--navy);
  }

  .grid {
    position: absolute; inset: 0;
    background-image:
      linear-gradient(rgba(45,110,245,.07) 1px, transparent 1px),
      linear-gradient(90deg, rgba(45,110,245,.07) 1px, transparent 1px);
    background-size: 52px 52px;
    mask-image: radial-gradient(ellipse 85% 85% at 50% 50%, black 20%, transparent 100%);
  }

  .orb {
    position: absolute; border-radius: 50%;
    filter: blur(90px); pointer-events: none;
    animation: float 14s ease-in-out infinite alternate;
  }
  .o1 { width: 560px; height: 560px; background: rgba(26,79,196,.16); top:-180px; left:-120px; }
  .o2 { width: 420px; height: 420px; background: rgba(0,212,255,.09); bottom:-100px; right:-60px; animation-delay:-5s; }
  .o3 { width: 280px; height: 280px; background: rgba(45,110,245,.11); top:45%; left:55%; animation-delay:-9s; }

  @keyframes float {
    from { transform: translate(0,0) scale(1); }
    to   { transform: translate(28px,18px) scale(1.07); }
  }

  /* ── Header ── */
  header {
    position: relative; z-index: 20;
    height: 62px; padding: 0 36px;
    display: flex; align-items: center; justify-content: space-between;
    background: rgba(6,13,31,.88);
    backdrop-filter: blur(22px);
    border-bottom: 1px solid var(--border);
  }

  .logo { display: flex; align-items: center; gap: 11px; }

  .logo-mark {
    width: 34px; height: 34px; border-radius: 9px;
    background: linear-gradient(135deg, var(--brand), var(--cyan));
    display: flex; align-items: center; justify-content: center;
    font-family: 'Sora', sans-serif; font-weight: 800; font-size: 13px; color: #fff;
    box-shadow: 0 0 18px rgba(0,212,255,.28);
    letter-spacing: -0.5px;
  }

  .logo-name {
    font-family: 'Sora', sans-serif; font-weight: 700; font-size: 16px;
    background: linear-gradient(90deg, #fff 50%, var(--cyan));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    letter-spacing: -.3px;
  }

  .badge {
    font-size: 11px; font-weight: 500; color: var(--muted);
    border: 1px solid var(--border); border-radius: 99px;
    padding: 4px 13px; letter-spacing: .4px;
  }

  /* ── Main ── */
  main {
    flex: 1; display: flex; align-items: center; justify-content: center;
    padding: 32px 16px; position: relative; z-index: 10;
  }

  /* ── Card ── */
  .card {
    width: 100%; max-width: 430px;
    background: rgba(6,13,31,.82);
    backdrop-filter: blur(28px);
    border: 1px solid var(--border);
    border-radius: 22px;
    padding: 42px 38px 38px;
    box-shadow:
      0 30px 80px rgba(0,0,0,.55),
      0 0 0 1px rgba(77,139,255,.08) inset,
      0 1px 0 rgba(255,255,255,.04) inset;
    animation: rise .65s cubic-bezier(.22,.8,.36,1) both;
  }

  @keyframes rise {
    from { opacity:0; transform:translateY(28px) scale(.97); }
    to   { opacity:1; transform:translateY(0)    scale(1); }
  }

  .eyebrow {
    font-size: 10.5px; font-weight: 600; letter-spacing: 2.2px;
    color: var(--cyan); text-transform: uppercase; margin-bottom: 9px;
  }

  .card-title {
    font-family: 'Sora', sans-serif; font-size: 25px; font-weight: 700;
    color: #fff; line-height: 1.15; margin-bottom: 5px;
  }

  .card-sub { font-size: 13.5px; color: var(--muted); margin-bottom: 34px; }

  /* ── Fields ── */
  .field { margin-bottom: 18px; }

  .field label {
    display: block; font-size: 11px; font-weight: 600;
    letter-spacing: .7px; text-transform: uppercase;
    color: var(--muted); margin-bottom: 7px;
  }

  .inp-wrap { position: relative; }

  .inp-icon {
    position: absolute; left: 13px; top: 50%; transform: translateY(-50%);
    color: var(--muted); pointer-events: none; width: 17px; height: 17px;
  }

  input {
    width: 100%;
    padding: 13px 13px 13px 40px;
    background: rgba(255,255,255,.035);
    border: 1px solid rgba(77,139,255,.22);
    border-radius: 10px;
    color: var(--text);
    font-family: 'DM Sans', sans-serif; font-size: 14.5px;
    outline: none;
    transition: border-color .2s, background .2s, box-shadow .2s;
  }

  input:focus {
    border-color: var(--glow);
    background: rgba(77,139,255,.055);
    box-shadow: 0 0 0 3px rgba(77,139,255,.13);
  }

  input::placeholder { color: rgba(107,133,176,.45); }

  .pw-toggle {
    position: absolute; right: 12px; top: 50%; transform: translateY(-50%);
    background: none; border: none; cursor: pointer;
    color: var(--muted); line-height: 0; padding: 3px;
    transition: color .2s;
  }
  .pw-toggle:hover { color: var(--cyan); }

  /* ── Error ── */
  #errBox {
    display: none; margin-top: 4px;
    background: rgba(255,77,109,.09);
    border: 1px solid rgba(255,77,109,.3);
    border-radius: 8px; padding: 10px 13px;
    font-size: 13px; color: #ff8096;
    animation: shake .35s ease;
  }

  @keyframes shake {
    0%,100%{transform:translateX(0)}
    20%{transform:translateX(-6px)}
    50%{transform:translateX(5px)}
    75%{transform:translateX(-3px)}
  }

  /* ── Button ── */
  .btn {
    width: 100%; margin-top: 26px;
    padding: 14px;
    background: linear-gradient(135deg, var(--brand), var(--brand-bright));
    border: none; border-radius: 11px;
    color: #fff;
    font-family: 'Sora', sans-serif; font-size: 14.5px; font-weight: 600;
    letter-spacing: .2px; cursor: pointer;
    position: relative; overflow: hidden;
    box-shadow: 0 4px 22px rgba(26,79,196,.48);
    transition: transform .15s, box-shadow .2s;
  }

  .btn::after {
    content: ''; position: absolute; inset: 0;
    background: linear-gradient(135deg, transparent 40%, rgba(255,255,255,.13));
    opacity: 0; transition: opacity .25s;
  }
  .btn:hover::after { opacity: 1; }
  .btn:hover { transform: translateY(-1px); box-shadow: 0 8px 30px rgba(45,110,245,.48); }
  .btn:active { transform: translateY(0); }
  .btn:disabled { opacity: .7; cursor: not-allowed; transform: none; }

  .btn-inner { display: flex; align-items: center; justify-content: center; gap: 9px; }

  .spin {
    display: none; width: 17px; height: 17px;
    border: 2px solid rgba(255,255,255,.3); border-top-color: #fff;
    border-radius: 50%; animation: spin .7s linear infinite;
  }
  @keyframes spin { to { transform: rotate(360deg); } }

  /* ── Divider + Footer ── */
  .divider { border: none; border-top: 1px solid var(--border); margin: 26px 0 0; }

  .card-foot {
    margin-top: 18px; text-align: center;
    font-size: 12px; color: rgba(107,133,176,.6);
    display: flex; align-items: center; justify-content: center; gap: 6px;
  }

  .lock-dot {
    width: 6px; height: 6px; border-radius: 50%;
    background: var(--green);
    box-shadow: 0 0 6px var(--green);
    animation: pulse 2s ease-in-out infinite;
  }
  @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:.4} }

  /* ── Redirect Overlay ── */
  #overlay {
    display: none; position: fixed; inset: 0; z-index: 999;
    background: rgba(6,13,31,.97);
    flex-direction: column; align-items: center; justify-content: center; gap: 18px;
  }
  #overlay.show { display: flex; animation: fadeIn .3s ease both; }
  @keyframes fadeIn { from{opacity:0} to{opacity:1} }

  .ring {
    width: 60px; height: 60px; border-radius: 50%;
    border: 3px solid rgba(77,139,255,.2); border-top-color: var(--cyan);
    animation: spin .85s linear infinite;
  }

  .ov-title {
    font-family: 'Sora', sans-serif; font-size: 20px; font-weight: 700; color: #fff;
  }
  .ov-sub { font-size: 13.5px; color: var(--muted); }

  /* ── Page Footer ── */
  footer {
    position: relative; z-index: 10;
    text-align: center; padding: 14px;
    font-size: 11.5px; color: rgba(107,133,176,.35);
    border-top: 1px solid rgba(77,139,255,.07);
  }

  @media (max-width: 480px) {
    header { padding: 0 18px; }
    .card { padding: 32px 22px 28px; }
  }
</style>
</head>
<body>

<!-- Background -->
<div class="bg">
  <div class="grid"></div>
  <div class="orb o1"></div>
  <div class="orb o2"></div>
  <div class="orb o3"></div>
</div>

<!-- Header -->
<header>
  <div class="logo">
    <div class="logo-mark">PI</div>
    <div class="logo-name">Pratham Insights</div>
  </div>
  <div class="badge">Partner Portal</div>
</header>

<!-- Main -->
<main>
  <div class="card">
    <div class="eyebrow">Secure Access</div>
    <div class="card-title">Welcome Back</div>
    <div class="card-sub">Apna email aur password enter karein</div>

    <!-- Email -->
    <div class="field">
      <label for="email">Email Address</label>
      <div class="inp-wrap">
        <svg class="inp-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
          <rect x="2" y="4" width="20" height="16" rx="2"/>
          <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
        </svg>
        <input type="email" id="email" placeholder="aap@company.com" autocomplete="email"/>
      </div>
    </div>

    <!-- Password -->
    <div class="field">
      <label for="password">Password</label>
      <div class="inp-wrap">
        <svg class="inp-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
          <rect x="3" y="11" width="18" height="11" rx="2"/>
          <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
        </svg>
        <input type="password" id="password" placeholder="••••••••" autocomplete="current-password"/>
        <button class="pw-toggle" id="togPw" type="button" aria-label="Password dikhayein">
          <!-- Eye open -->
          <svg id="eyeOn" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
            <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7z"/>
            <circle cx="12" cy="12" r="3"/>
          </svg>
          <!-- Eye closed -->
          <svg id="eyeOff" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" style="display:none">
            <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94"/>
            <path d="M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19"/>
            <line x1="1" y1="1" x2="23" y2="23"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Error -->
    <div id="errBox"></div>

    <!-- Login Button -->
    <button class="btn" id="loginBtn" type="button">
      <div class="btn-inner">
        <div class="spin" id="spin"></div>
        <span id="btnTxt">Dashboard Access Karein</span>
        <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
          <path d="M5 12h14M12 5l7 7-7 7"/>
        </svg>
      </div>
    </button>

    <hr class="divider"/>
    <div class="card-foot">
      <div class="lock-dot"></div>
      256-bit encrypted connection
    </div>
  </div>
</main>

<footer>© 2025 Pratham Insights — All rights reserved</footer>

<!-- Redirect Overlay -->
<div id="overlay">
  <div class="ring"></div>
  <div class="ov-title">Login Successful ✓</div>
  <div class="ov-sub" id="ovSub">Aapka dashboard load ho raha hai...</div>
</div>

<script>
  // ══════════════════════════════════════════════════════════════
  //  ⚙️  SIRF YE EK LINE BADLO — Apna Apps Script URL yahan paste karo
  // ══════════════════════════════════════════════════════════════
  const API_URL = "https://script.google.com/macros/s/AKfycbxTGx2N5P2Z2nSTl6NJ9BcZuFN9mUNTp3sGqvopsZohm56oT5LUm1dAYwVf24MLsPT2/exec";
  // ══════════════════════════════════════════════════════════════

  const $ = id => document.getElementById(id);

  // Password toggle
  $('togPw').addEventListener('click', () => {
    const pw = $('password');
    const show = pw.type === 'password';
    pw.type = show ? 'text' : 'password';
    $('eyeOn').style.display  = show ? 'none' : '';
    $('eyeOff').style.display = show ? '' : 'none';
  });

  // Clear error on typing
  [$('email'), $('password')].forEach(el => {
    el.addEventListener('input', () => {
      $('errBox').style.display = 'none';
      el.style.borderColor = '';
    });
  });

  // Enter key support
  document.addEventListener('keydown', e => { if (e.key === 'Enter') doLogin(); });

  $('loginBtn').addEventListener('click', doLogin);

  async function doLogin() {
    const email    = $('email').value.trim().toLowerCase();
    const password = $('password').value;

    // Basic validation
    if (!email || !password) {
      showErr("Email aur password dono zaroori hain.");
      return;
    }

    // Loading state
    setLoading(true);

    try {
      // Apps Script se verify karo
      const res = await fetch(`${API_URL}?email=${encodeURIComponent(email)}&password=${encodeURIComponent(password)}`);
      const data = await res.json();

      if (data.success) {
        // SUCCESS → redirect
        $('ovSub').textContent = `Welcome, ${data.name}! Dashboard open ho raha hai...`;
        $('overlay').classList.add('show');
        setTimeout(() => { window.location.href = data.dashboard_url; }, 2000);
      } else {
        showErr("Galat email ya password. Dobara try karein.");
        setLoading(false);
      }

    } catch (err) {
      showErr("Connection error. Thodi der baad try karein.");
      setLoading(false);
    }
  }

  function setLoading(on) {
    $('loginBtn').disabled = on;
    $('spin').style.display  = on ? 'block' : 'none';
    $('btnTxt').textContent  = on ? 'Verify ho raha hai...' : 'Dashboard Access Karein';
  }

  function showErr(msg) {
    const box = $('errBox');
    box.textContent = '⚠️ ' + msg;
    box.style.display = 'block';
    // Highlight fields
    [$('email'), $('password')].forEach(el => {
      el.style.borderColor = 'rgba(255,77,109,.5)';
      setTimeout(() => { el.style.borderColor = ''; }, 2500);
    });
  }
</script>
</body>
</html>
